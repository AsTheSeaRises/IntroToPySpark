aws emr create-cluster --auto-scaling-role EMR_AutoScaling_DefaultRole \
--applications Name=Hadoop Name=Hive Name=JupyterHub Name=Ganglia Name=Spark Name=Hue \
--ebs-root-volume-size 10 \
--ec2-attributes '{"KeyName":"<ENTER YOUR KEY PAIR NAME HERE>","InstanceProfile":"EMR_EC2_DefaultRole"}' \
--service-role EMR_DefaultRole \
--release-label emr-5.17.0 \
--enable-debugging \
--log-uri 's3n://<ENTER YOUR LOGGING BUCKET HERE>' \
--name 'EMR-Spark-Jupyter' \
--instance-groups '[{"InstanceCount":2,"InstanceGroupType":"CORE","InstanceType":"m3.xlarge","Name":"Core - 2"},{"InstanceCount":1,"InstanceGroupType":"MASTER","InstanceType":"m3.xlarge","Name":"Master - 1"}]' \
--configurations '[{"Classification":"jupyter-s3-conf","Properties":{"s3.persistence.bucket":"<ENTER BUCKET NAME HERE TO STORE JUPYTER NOTEBOOKS>","s3.persistence.enabled":"true"},"Configurations":[]}]' \
--bootstrap-actions Path="s3://<BUCKET CONTAINING THE SHELL SCRIPT FINDSPARK.SH>" \
--scale-down-behavior TERMINATE_AT_TASK_COMPLETION --region eu-west-1 
